# General shell aliases. Source from .bashrc or .zshrc

[[ -r ~/.bash_aliases_tmp ]] && source ~/.bash_aliases_tmp

####
## Common aliases, command improvements:
####

# ls, grep, mkdir, tmux improvements
#alias ls='/bin/ls' # may be necessary
alias ls='ls --color=auto'
alias ll="ls -lhFG"
alias la="ll -a"
alias lt="ll -t"
alias grep="grep --color=auto"
alias fgrep="fgrep --color=auto"
alias egrep="egrep --color=auto"
alias ggrep="ggrep --color=auto"
alias less="less -i -FX"
alias cclear="cd; clear"

# Make new directory and immediately cd into it (from Nate Landau's, link below)
# should the -p flag be included?
mcd () { mkdir -p "$1" && cd "$1"; }

# pretty-print json
alias jcat='python -m json.tool'

# set better defaults for highlight
alias highlight='highlight -O xterm256 --style=zenburn --force'

# use `highlight` for colorized cat
hcat () {

  while [[ $# -gt 0 ]]; do
    case "$1" in
      -n)
        ARGS="-l"
        ;;
      *rc|*profile)
        highlight "$ARGS" --syntax=conf -i "$1"
        ;;
      *)
        highlight "$ARGS" -i "$1"
        ;;
    esac
    shift
  done

  unset ARGS
}

# tmux-a [index]	: attaches to the index of given session
# tmux-a			: tries to attach to last session; if none active, creates new one
tmux-a () {
	sessions=`tmux list-sessions 2>/dev/null`
	# if there are tmux sessions, connect to the last one or the one specified by $1
	if [[ $? -eq 0 ]]
	then
		# if there's an argument given then connect to given session
		if [[ -n "$1" ]]
		then
			tmux attach -t "$1"
			#return $?
		else
			# no argument, and tmux is running: attach to the most recent session
			tmux attach
			#return $?
		fi
	else
		# tmux isn't running: start it up
		tmux
		#return 0
	fi
}
